<div class="deals__component main__component">
  <div class="main__component__header display-flex display-flex-row">
    <h3 class="display-flex-1">Сделки клиента {{(client | async)?.title}}</h3>
    <button class="main__component__header__helper-button"><span class="oi" data-glyph="plus"></span></button>
  </div>
  <div class="main__component__body">
    <div class="grid-row height-100">
      <div class="col-sm-1 col-md-1 col-lg-1">
        <div class="deals__component__list" *ngIf="_dealStages">
          <div class="deals__component__container" *ngFor="let stage of _dealStages">

            <div class="deals__component__container__title">
              <h3>{{stage.title}}</h3>
            </div>

            <div class="drag-wrapper" [dragula]='"deals_kanban"' [dragulaModel]='_dealArraySortbale[stage.id]'>
              <div class="deals__component__item" *ngFor="let item of _dealArraySortbale[stage.id]" [id]="item.id">
                <div [ngSwitch]="item.status">
                  <div *ngSwitchCase="'in_process'" class="deals__item__status deals__item__status--work">
                    В работе
                  </div>
                  <div *ngSwitchCase="'failed'" class="deals__item__status deals__item__status--fail">
                    Провалена
                  </div>
                  <div *ngSwitchCase="'completed'" class="deals__item__status deals__item__status--done">
                    Завершенная
                  </div>
                </div>

                <h4>{{item.title}}</h4>

                <a class="deals__component__item--link" href="#">Подробнее</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
